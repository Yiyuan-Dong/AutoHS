import tkinter as tk
from constants.state_and_key import *

def get_screen_resolution():
    root = tk.Tk()
    root.withdraw()  # 隐藏主窗口
    width = root.winfo_screenwidth()
    height = root.winfo_screenheight()
    return width, height

# Initialize width and height when the module is imported
WIDTH, HEIGHT = get_screen_resolution()

# Coordinates for 1920x1080 resolution
hand_x_1920_1080 = [
    [],  # 0
    [885],  # 1
    [820, 980],  # 2
    [750, 890, 1040],  # 3
    [690, 820, 970, 1130],  # 4
    [680, 780, 890, 1010, 1130],  # 5
    [660, 750, 840, 930, 1020, 1110],  # 6
    [660, 733, 810, 885, 965, 1040, 1120],  # 7
    [650, 720, 785, 855, 925, 995, 1060, 1130],  # 8
    [650, 710, 765, 825, 880, 950, 1010, 1070, 1140],  # 9
    [647, 700, 750, 800, 860, 910, 970, 1020, 1070, 1120]  # 10
]


start_card_x_1920_1080 = {
    3: [600, 960, 1320],
    5: [600, 850, 1100, 1350],
}


emoj_list_1920_1080 = [(800, 880), (800, 780), (800, 680), (1150, 680), (1150, 780)]

COORDINATES_1920_1080 = {
    COORDINATE_MID_X: 960,
    COORDINATE_MID_Y: 540,
    COORDINATE_HALF_MINION_GAP_X: 70,
    COORDINATE_MY_MINION_Y: 600,
    COORDINATE_OPPO_MINION_Y: 400,
    COORDINATE_MY_HERO_Y: 850,
    COORDINATE_OPPO_HERO_Y: 200,
    COORDINATE_CANCEL_X: 50,
    COORDINATE_CANCEL_Y: 400,
    COORDINATE_MY_HAND_X: hand_x_1920_1080,
    COORDINATE_MY_HAND_Y: 1000,
    COORDINATE_START_CARD_X: start_card_x_1920_1080,
    COORDINATE_START_CARD_Y: 500,
    COORDINATE_NO_OP_Y: 500,
    COORDINATE_SETTING_X: 1880,
    COORDINATE_SETTING_Y: 1050,
    COORDINATE_MATCH_OPPONENT_X: 1400,
    COORDINATE_MATCH_OPPONENT_Y: 900,
    COORDINATE_ENTER_BATTLE_Y: 320,
    COORDINATE_COMMIT_CHOOSE_START_CARD_Y: 850,
    COORDINATE_END_TURN_X: 1550,
    COORDINATE_END_TURN_Y: 500,
    COORDINATE_ERROR_REPORT_X: 1100,
    COORDINATE_ERROR_REPORT_Y: 820,
    COORDINATE_DISCONNECTED_X: 960,   # TODO: Check this
    COORDINATE_DISCONNECTED_Y: 650,   # TODO: Check this
    COORDINATE_EMOJ_LIST: emoj_list_1920_1080,
    COORDINATE_SKILL_X: 1150,
    COORDINATE_SKILL_Y: 850,
}

# Coordinates for 2560x1440 resolution

hand_x_2560_1440 = [
    [], #0
    [1220], #1
    [1140, 1320], #2
    [1050, 1220, 1400], #3
    [980, 1150, 1320, 1520], #4
    [920, 1100, 1250, 1390, 1530], #5
    [900, 1040, 1150, 1290, 1400, 1550], #6
    [900, 1000, 1100, 1210, 1320, 1430, 1550], #7
    [880, 960, 1050, 1150, 1250, 1350, 1450, 1550], #8
    [850, 940, 1020, 1110, 1200, 1280, 1360, 1440, 1550], #9
    [850, 920, 1010, 1080, 1160, 1220, 1300, 1380, 1460, 1560] #10
]


start_card_x_2560_1440 = {
    3: [800, 1300, 1750],
    5: [750, 1100, 1450, 1800],
}


emoj_list_2560_1440 = [(1000, 1150), (1000, 1020), (1100, 900), (1500, 900), (1550, 1020)]

COORDINATES_2560_1440 = {
    COORDINATE_MID_X: 1280,
    COORDINATE_MID_Y: 720,
    COORDINATE_HALF_MINION_GAP_X: 85,
    COORDINATE_MY_MINION_Y: 800,
    COORDINATE_OPPO_MINION_Y: 520,
    COORDINATE_MY_HERO_Y: 1100,
    COORDINATE_OPPO_HERO_Y: 250,
    COORDINATE_CANCEL_X: 50,
    COORDINATE_CANCEL_Y: 400,
    COORDINATE_MY_HAND_X: hand_x_2560_1440,
    COORDINATE_MY_HAND_Y: 1350,
    COORDINATE_START_CARD_X: start_card_x_2560_1440,
    COORDINATE_START_CARD_Y: 700,
    COORDINATE_NO_OP_Y: 680,
    COORDINATE_SETTING_X: 2500,
    COORDINATE_SETTING_Y: 1400,
    COORDINATE_MATCH_OPPONENT_X: 1880,
    COORDINATE_MATCH_OPPONENT_Y: 1200,
    COORDINATE_ENTER_BATTLE_Y: 440,
    COORDINATE_COMMIT_CHOOSE_START_CARD_Y: 1150,
    COORDINATE_END_TURN_X: 2100,
    COORDINATE_END_TURN_Y: 670,
    COORDINATE_ERROR_REPORT_X: 1150,
    COORDINATE_ERROR_REPORT_Y: 880,
    COORDINATE_DISCONNECTED_X: 1050,
    COORDINATE_DISCONNECTED_Y: 1100,
    COORDINATE_EMOJ_LIST: emoj_list_2560_1440,
    COORDINATE_SKILL_X: 1520,
    COORDINATE_SKILL_Y: 1100,
}


assert len(COORDINATES_2560_1440) == len(COORDINATES_1920_1080), "The sizes of the COORDINATES dictionaries do not match"


if __name__ == "__main__":
    print(f"Screen resolution: {WIDTH}x{HEIGHT}")